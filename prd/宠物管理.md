### 概述：生命维护 (Life Sustenance)

宠物护理本质上是对抗“生命活动产生的熵”（饥饿、排泄、脏乱）。通过数字孪生体模拟这些不可见的积累过程，将枯燥的“铲屎/喂饭”转化为让宠物恢复“元气满满 (Sparkle)”的互动仪式。

### 业务逻辑 (Business Logic)

**1. 核心算法：护理紧迫度 (Care Urgency Progress)**
复用清洁模块的正计时逻辑。

- **计算公式:**$$Progress = \frac{\text{CurrentTime} - \text{LastActionTime}}{\text{BaseThreshold} / \text{LoadFactor}}$$
- **参数定义:**
    - `BaseThreshold`: 基础周期（小时/天）。
    - `LoadFactor` (负载系数): 默认为 1.0。
    - **动态调整逻辑:**
        - 读取 `Family` Manager 中的宠物数量 `PetCount`。
        - **IF** `PetCount` > 1 **AND** 物品标记为 `is_shared` (共享资源，如水碗/厕所):
        - **THEN** `LoadFactor = 1.5` (多宠家庭，变脏/消耗速度加快 50%)。

**2. 状态分级 (Status Grading)**
根据 $Progress$ 值判定当前状态：

| 状态 (Status) | 进度范围 | 定义 | 视觉语义 |
| --- | --- | --- | --- |
| **✨ 惬意 (Happy)** | 0.0 - 0.5 | 刚维护完，宠物状态极佳。 | 亮色/爱心光晕 |
| **🙂 舒适 (Okay)** | 0.5 - 1.0 | 正常状态。 | 原色 |
| **🤢 嫌弃 (Stale)** | 1.0 - 1.5 | 超过建议周期，宠物开始不适。 | 轻微污渍/绿色烟雾纹理 |
| **🚨 崩溃 (Crisis)** | > 1.5 | 严重超期，可能影响健康。 | 明显污渍/苍蝇纹理 + 暗红 |

### C. 数据定义 (Data Schema)

| 护理项目 (Category) | 默认阈值 | 属性 | 备注 |
| --- | --- | --- | --- |
| **干饭 (Feed)** | 12 小时 | 个体 | 极高频，生物钟强相关 |
| **铲屎 (Scoop)** | 24 小时 | 个体 | 必须每日执行，多宠加速 |
| **换水 (Fresh Water)** | 24 小时 | 个体 | 保持水源洁净 |
| **砂盆大扫除 (Deep Clean)** | 14 天 | 个体 | 换整盆砂/清洗厕所 |
| **剪指甲 (Nails)** | 14 天 | 个体 | 避免抓伤 |
| **洗澡/驱虫 (Grooming)** | 45 天 | 个体 | 低频长尾任务 |

### D. 视觉与交互设计 (Visual & Interaction)

**1. 核心特性：视觉老化 (Visual Aging Effect)**
复用清洁模块的 Overlay 技术，但针对宠物场景定制纹理。

- **纹理映射** (Texture Logic):
    - **Phase 1 (Stale):** 叠加淡淡的“凌乱抓痕”，暗示有异味或脏乱。
    - **Phase 2 (Crisis):** 叠加明显的“泥点/爪印 (Muddy Paws)”，整体色调变暗。

**2. 列表页文案：毛孩子视角 (Pet POV)影响首页数据管理。**
采用宠物第一人称视角，增加情感连接。

- **Happy:** "最爱铲屎官了！😻" / "肚皮吃饱饱"
- **Okay:** "现在感觉还不错"
- **Stale:** "水有点不新鲜了..." / "厕所好挤哦"
- **Crisis:** "本喵要生气了！😾" / "快来救驾！"

**3. 核心交互：一键焕新 (The Sparkle Reset)**

- **触发:** 点击项目上的“✨ 投喂/完成”按钮。
- **动画序列:**
    1. **Flash:** 卡片高亮。
    2. **Cleanse:** 污渍/烟雾纹理瞬间消散。
    3. **Joy:** 爆出“小鱼干”或“爱心”粒子特效。
    4. **Sound:** 播放对应宠物的叫声（喵~/汪~）作为听觉反馈。

### E. 技术架构要求 (Technical Constraints)

- **Logic Reuse:** 必须复用 `useHygieneLogic` 的核心代码，通过传入 `config.type = 'PET'` 来切换纹理和文案库。
- **Family Context:** 必须订阅 `FamilyContext` 以获取实时 `PetCount`，用于计算负载系数。

##